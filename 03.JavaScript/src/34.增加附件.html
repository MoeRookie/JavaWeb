<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>34.增加附件</title>
    <script type="text/javascript">
    /*
        插入节点、删除节点:
            elt.insertBefore(newNode, oldNode);     添加到child之前的elt中
            注*: elt必须是oldNode的直接父节点.
            elt.removeChild(child);                 删除指定的子节点
            注意: elt必须是child的直接父节点.
    */
        // 添加附件
        function addFile(){
            // 创建一个tr对象
            var trNode = document.createElement("tr");
            // 创建td对象
            var tdNodeFile = document.createElement("td");
            var tdNodeLink = document.createElement("td");
            tdNodeFile.innerHTML = "<input type='file'/>";
            tdNodeLink.innerHTML = "<a href='#'' onclick='delFile(this)''>删除附件</a>";
            // 将td节点添加到tr节点上
            trNode.appendChild(tdNodeFile);
            trNode.appendChild(tdNodeLink);
            // 找到tbody节点
            var tbodyNode = document.getElementsByTagName("tbody")[0];
            // 找到lastRow节点
            var lastRow = document.getElementById("lastRow");
            
            tbodyNode.insertBefore(trNode,lastRow);
        }

        // 删除附件
        function delFile(aNode){
            var trNode = aNode.parentNode.parentNode;
            var tbodyNode = document.getElementsByTagName("tbody")[0];
            tbodyNode.removeChild(trNode);
        }
    </script>
</head>
<body>
    <table>
        <tr>
            <td><input type="file"/></td><td><a href="#" onclick="delFile(this)">删除附件</a></td>
        </tr>
        <tr id="lastRow">
            <td colspan="2"><input type="button" onclick="addFile()" value="添加附件"/></td>
        </tr>
    </table>
</body>
</html>